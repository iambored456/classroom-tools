(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const dt=!1;var rn=Array.isArray,Jn=Array.prototype.indexOf,Re=Array.prototype.includes,ft=Array.from,Qn=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,sn=Object.getOwnPropertyDescriptors,er=Object.prototype,tr=Array.prototype,xt=Object.getPrototypeOf,Gt=Object.isExtensible;const nr=()=>{};function rr(e){return e()}function vt(e){for(var t=0;t<e.length;t++)e[t]()}function on(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const P=2,at=4,We=8,ln=1<<24,ie=16,J=32,Ie=64,ht=128,U=512,N=1024,C=2048,Z=4096,q=8192,ue=16384,xe=32768,De=65536,jt=1<<17,fn=1<<18,Ge=1<<19,an=1<<20,re=1<<25,Ae=65536,pt=1<<21,At=1<<22,ce=1<<23,He=Symbol("$state"),ir=Symbol(""),me=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function sr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function or(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function lr(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function fr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ar(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ur(e){throw new Error("https://svelte.dev/e/effect_orphan")}function cr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function dr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function pr(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const _r=1,gr=2,un=4,mr=8,wr=16,yr=1,br=2,O=Symbol(),cn="http://www.w3.org/1999/xhtml";function Er(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function dn(e){return e===this.v}function Mr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function vn(e){return!Mr(e,this.v)}let Xe=!1,Tr=!1;function xr(){Xe=!0}let A=null;function Le(e){A=e}function Ze(e,t=!1,n){A={p:A,i:!1,c:null,e:null,s:e,x:null,l:Xe&&!t?{s:null,u:null,$:[]}:null}}function Je(e){var t=A,n=t.e;if(n!==null){t.e=null;for(var r of n)On(r)}return t.i=!0,A=t.p,{}}function Qe(){return!Xe||A!==null&&A.l===null}let Oe=[];function Ar(){var e=Oe;Oe=[],vt(e)}function be(e){if(Oe.length===0){var t=Oe;queueMicrotask(()=>{t===Oe&&Ar()})}Oe.push(e)}function hn(e){var t=y;if(t===null)return w.f|=ce,e;if((t.f&xe)===0&&(t.f&at)===0)throw e;ae(e,t)}function ae(e,t){for(;t!==null;){if((t.f&ht)!==0){if((t.f&xe)===0)throw e;try{t.b.error(e);return}catch(n){e=n}}t=t.parent}throw e}const Sr=-7169;function x(e,t){e.f=e.f&Sr|t}function St(e){(e.f&U)!==0||e.deps===null?x(e,N):x(e,Z)}function pn(e){if(e!==null)for(const t of e)(t.f&P)===0||(t.f&Ae)===0||(t.f^=Ae,pn(t.deps))}function _n(e,t,n){(e.f&C)!==0?t.add(e):(e.f&Z)!==0&&n.add(e),pn(e.deps),x(e,N)}const it=new Set;let M=null,$=null,j=[],Nt=null,_t=!1;class de{current=new Map;previous=new Map;#t=new Set;#l=new Set;#e=0;#s=0;#n=null;#o=new Set;#r=new Set;#i=new Map;is_fork=!1;#f=!1;#u(){return this.is_fork||this.#s>0}skip_effect(t){this.#i.has(t)||this.#i.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#i.get(t);if(n){this.#i.delete(t);for(var r of n.d)x(r,C),K(r);for(r of n.m)x(r,Z),K(r)}}process(t){j=[],this.apply();var n=[],r=[];for(const i of t)this.#a(i,n,r);if(this.#u()){this.#c(r),this.#c(n);for(const[i,s]of this.#i)wn(i,s)}else{for(const i of this.#t)i();this.#t.clear(),this.#e===0&&this.#v(),M=null,zt(r),zt(n),this.#n?.resolve()}$=null}#a(t,n,r){t.f^=N;for(var i=t.first;i!==null;){var s=i.f,l=(s&(J|Ie))!==0,f=l&&(s&N)!==0,o=f||(s&q)!==0||this.#i.has(i);if(!o&&i.fn!==null){l?i.f^=N:(s&at)!==0?n.push(i):tt(i)&&((s&ie)!==0&&this.#r.add(i),qe(i));var a=i.first;if(a!==null){i=a;continue}}for(;i!==null;){var u=i.next;if(u!==null){i=u;break}i=i.parent}}}#c(t){for(var n=0;n<t.length;n+=1)_n(t[n],this.#o,this.#r)}capture(t,n){n!==O&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&ce)===0&&(this.current.set(t,t.v),$?.set(t,t.v))}activate(){M=this,this.apply()}deactivate(){M===this&&(M=null,$=null)}flush(){if(this.activate(),j.length>0){if(Nr(),M!==null&&M!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#l)t(this);this.#l.clear()}#v(){if(it.size>1){this.previous.clear();var t=$,n=!0;for(const i of it){if(i===this){n=!1;continue}const s=[];for(const[f,o]of this.current){if(i.current.has(f))if(n&&o!==i.current.get(f))i.current.set(f,o);else continue;s.push(f)}if(s.length===0)continue;const l=[...i.current.keys()].filter(f=>!this.current.has(f));if(l.length>0){var r=j;j=[];const f=new Set,o=new Map;for(const a of s)gn(a,l,f,o);if(j.length>0){M=i,i.apply();for(const a of j)i.#a(a,[],[]);i.deactivate()}j=r}}M=null,$=t}it.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#f&&(this.#f=!0,be(()=>{this.#f=!1,this.#u()?j.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#o)this.#r.delete(t),x(t,C),K(t);for(const t of this.#r)x(t,Z),K(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#l.add(t)}settled(){return(this.#n??=on()).promise}static ensure(){if(M===null){const t=M=new de;it.add(M),be(()=>{M===t&&t.flush()})}return M}apply(){}}function Nr(){_t=!0;var e=null;try{for(var t=0;j.length>0;){var n=de.ensure();if(t++>1e3){var r,i;Ir()}n.process(j),ve.clear()}}finally{j=[],_t=!1,Nt=null}}function Ir(){try{cr()}catch(e){ae(e,Nt)}}let ne=null;function zt(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ue|q))===0&&tt(r)&&(ne=new Set,qe(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Cn(r),ne?.size>0)){ve.clear();for(const i of ne){if((i.f&(ue|q))!==0)continue;const s=[i];let l=i.parent;for(;l!==null;)ne.has(l)&&(ne.delete(l),s.push(l)),l=l.parent;for(let f=s.length-1;f>=0;f--){const o=s[f];(o.f&(ue|q))===0&&qe(o)}}ne.clear()}}ne=null}}function gn(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&P)!==0?gn(i,t,n,r):(s&(At|ie))!==0&&(s&C)===0&&mn(i,t,r)&&(x(i,C),K(i))}}function mn(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(Re.call(t,i))return!0;if((i.f&P)!==0&&mn(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function K(e){var t=Nt=e,n=t.b;if(n?.is_pending&&(e.f&(at|We|ln))!==0&&(e.f&xe)===0){n.defer_effect(e);return}for(;t.parent!==null;){t=t.parent;var r=t.f;if(_t&&t===y&&(r&ie)!==0&&(r&fn)===0&&(r&xe)!==0)return;if((r&(Ie|J))!==0){if((r&N)===0)return;t.f^=N}}j.push(t)}function wn(e,t){if(!((e.f&J)!==0&&(e.f&N)!==0)){(e.f&C)!==0?t.d.push(e):(e.f&Z)!==0&&t.m.push(e),x(e,N);for(var n=e.first;n!==null;)wn(n,t),n=n.next}}function Or(e){let t=0,n=Se(0),r;return()=>{Pt()&&(T(n),Jr(()=>(t===0&&(r=Dt(()=>e(()=>Ve(n)))),t+=1,()=>{be(()=>{t-=1,t===0&&(r?.(),r=void 0,Ve(n))})})))}}var Pr=De|Ge;function Cr(e,t,n,r){new kr(e,t,n,r)}class kr{parent;is_pending=!1;transform_error;#t;#l=null;#e;#s;#n;#o=null;#r=null;#i=null;#f=null;#u=0;#a=0;#c=!1;#v=new Set;#h=new Set;#d=null;#w=Or(()=>(this.#d=Se(this.#u),()=>{this.#d=null}));constructor(t,n,r,i){this.#t=t,this.#e=n,this.#s=s=>{var l=y;l.b=this,l.f|=ht,r(s)},this.parent=y.b,this.transform_error=i??this.parent?.transform_error??(s=>s),this.#n=Ct(()=>{this.#g()},Pr)}#y(){try{this.#o=z(()=>this.#s(this.#t))}catch(t){this.error(t)}}#b(t){const n=this.#e.failed;n&&(this.#i=z(()=>{n(this.#t,()=>t,()=>()=>{})}))}#E(){const t=this.#e.pending;t&&(this.is_pending=!0,this.#r=z(()=>t(this.#t)),be(()=>{var n=this.#f=document.createDocumentFragment(),r=he();n.append(r),this.#o=this.#_(()=>(de.ensure(),z(()=>this.#s(r)))),this.#a===0&&(this.#t.before(n),this.#f=null,Me(this.#r,()=>{this.#r=null}),this.#p())}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#a=0,this.#u=0,this.#o=z(()=>{this.#s(this.#t)}),this.#a>0){var t=this.#f=document.createDocumentFragment();Dn(this.#o,t);const n=this.#e.pending;this.#r=z(()=>n(this.#t))}else this.#p()}catch(n){this.error(n)}}#p(){this.is_pending=!1;for(const t of this.#v)x(t,C),K(t);for(const t of this.#h)x(t,Z),K(t);this.#v.clear(),this.#h.clear()}defer_effect(t){_n(t,this.#v,this.#h)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#_(t){var n=y,r=w,i=A;ee(this.#n),V(this.#n),Le(this.#n.ctx);try{return t()}catch(s){return hn(s),null}finally{ee(n),V(r),Le(i)}}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#a+=t,this.#a===0&&(this.#p(),this.#r&&Me(this.#r,()=>{this.#r=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(t){this.#m(t),this.#u+=t,!(!this.#d||this.#c)&&(this.#c=!0,be(()=>{this.#c=!1,this.#d&&Fe(this.#d,this.#u)}))}get_effect_pending(){return this.#w(),T(this.#d)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(!n&&!r)throw t;this.#o&&(D(this.#o),this.#o=null),this.#r&&(D(this.#r),this.#r=null),this.#i&&(D(this.#i),this.#i=null);var i=!1,s=!1;const l=()=>{if(i){Er();return}i=!0,s&&pr(),this.#i!==null&&Me(this.#i,()=>{this.#i=null}),this.#_(()=>{de.ensure(),this.#g()})},f=o=>{try{s=!0,n?.(o,l),s=!1}catch(a){ae(a,this.#n&&this.#n.parent)}r&&(this.#i=this.#_(()=>{de.ensure();try{return z(()=>{var a=y;a.b=this,a.f|=ht,r(this.#t,()=>o,()=>l)})}catch(a){return ae(a,this.#n.parent),null}}))};be(()=>{var o;try{o=this.transform_error(t)}catch(a){ae(a,this.#n&&this.#n.parent);return}o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(f,a=>ae(a,this.#n&&this.#n.parent)):f(o)})}}function Rr(e,t,n,r){const i=Qe()?ut:It;var s=e.filter(v=>!v.settled);if(n.length===0&&s.length===0){r(t.map(i));return}var l=y,f=Dr(),o=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(v=>v.promise)):null;function a(v){f();try{r(v)}catch(c){(l.f&ue)===0&&ae(c,l)}gt()}if(n.length===0){o.then(()=>a(t.map(i)));return}function u(){f(),Promise.all(n.map(v=>Fr(v))).then(v=>a([...t.map(i),...v])).catch(v=>ae(v,l))}o?o.then(u):u()}function Dr(){var e=y,t=w,n=A,r=M;return function(s=!0){ee(e),V(t),Le(n),s&&r?.activate()}}function gt(e=!0){ee(null),V(null),Le(null),e&&M?.deactivate()}function Lr(){var e=y.b,t=M,n=e.is_rendered();return e.update_pending_count(1),t.increment(n),()=>{e.update_pending_count(-1),t.decrement(n)}}function ut(e){var t=P|C,n=w!==null&&(w.f&P)!==0?w:null;return y!==null&&(y.f|=Ge),{ctx:A,deps:null,effects:null,equals:dn,f:t,fn:e,reactions:null,rv:0,v:O,wv:0,parent:n??y,ac:null}}function Fr(e,t,n){y===null&&or();var i=void 0,s=Se(O),l=!w,f=new Map;return Zr(()=>{var o=on();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).finally(gt)}catch(c){o.reject(c),gt()}var a=M;if(l){var u=Lr();f.get(a)?.reject(me),f.delete(a),f.set(a,o)}const v=(c,h=void 0)=>{if(a.activate(),h)h!==me&&(s.f|=ce,Fe(s,h));else{(s.f&ce)!==0&&(s.f^=ce),Fe(s,c);for(const[p,m]of f){if(f.delete(p),p===a)break;m.reject(me)}}u&&u()};o.promise.then(v,c=>v(null,c||"unknown"))}),Kr(()=>{for(const o of f.values())o.reject(me)}),new Promise(o=>{function a(u){function v(){u===i?o(s):a(i)}u.then(v,v)}a(i)})}function Pe(e){const t=ut(e);return Ln(t),t}function It(e){const t=ut(e);return t.equals=vn,t}function qr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)D(t[n])}}function Gr(e){for(var t=e.parent;t!==null;){if((t.f&P)===0)return(t.f&ue)===0?t:null;t=t.parent}return null}function Ot(e){var t,n=y;ee(Gr(e));try{e.f&=~Ae,qr(e),t=jn(e)}finally{ee(n)}return t}function yn(e){var t=Ot(e);if(!e.equals(t)&&(e.wv=qn(),(!M?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){x(e,N);return}Ne||($!==null?(Pt()||M?.is_fork)&&$.set(e,t):St(e))}function jr(e){if(e.effects!==null)for(const t of e.effects)(t.teardown||t.ac)&&(t.teardown?.(),t.ac?.abort(me),t.teardown=nr,t.ac=null,$e(t,0),kt(t))}function bn(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&qe(t)}let mt=new Set;const ve=new Map;let En=!1;function Se(e,t){var n={f:0,v:e,reactions:null,equals:dn,rv:0,wv:0};return n}function le(e,t){const n=Se(e);return Ln(n),n}function zr(e,t=!1,n=!0){const r=Se(e);return t||(r.equals=vn),Xe&&n&&A!==null&&A.l!==null&&(A.l.s??=[]).push(r),r}function _e(e,t,n=!1){w!==null&&(!X||(w.f&jt)!==0)&&Qe()&&(w.f&(P|ie|At|jt))!==0&&(H===null||!Re.call(H,e))&&hr();let r=n?we(t):t;return Fe(e,r)}function Fe(e,t){if(!e.equals(t)){var n=e.v;Ne?ve.set(e,t):ve.set(e,n),e.v=t;var r=de.ensure();if(r.capture(e,n),(e.f&P)!==0){const i=e;(e.f&C)!==0&&Ot(i),St(i)}e.wv=qn(),Mn(e,C),Qe()&&y!==null&&(y.f&N)!==0&&(y.f&(J|Ie))===0&&(G===null?ti([e]):G.push(e)),!r.is_fork&&mt.size>0&&!En&&Br()}return t}function Br(){En=!1;for(const e of mt)(e.f&N)!==0&&x(e,Z),tt(e)&&qe(e);mt.clear()}function Ve(e){_e(e,e.v+1)}function Mn(e,t){var n=e.reactions;if(n!==null)for(var r=Qe(),i=n.length,s=0;s<i;s++){var l=n[s],f=l.f;if(!(!r&&l===y)){var o=(f&C)===0;if(o&&x(l,t),(f&P)!==0){var a=l;$?.delete(a),(f&Ae)===0&&(f&U&&(l.f|=Ae),Mn(a,Z))}else o&&((f&ie)!==0&&ne!==null&&ne.add(l),K(l))}}}function we(e){if(typeof e!="object"||e===null||He in e)return e;const t=xt(e);if(t!==er&&t!==tr)return e;var n=new Map,r=rn(e),i=le(0),s=Te,l=f=>{if(Te===s)return f();var o=w,a=Te;V(null),Ht(s);var u=f();return V(o),Ht(a),u};return r&&n.set("length",le(e.length)),new Proxy(e,{defineProperty(f,o,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&dr();var u=n.get(o);return u===void 0?l(()=>{var v=le(a.value);return n.set(o,v),v}):_e(u,a.value,!0),!0},deleteProperty(f,o){var a=n.get(o);if(a===void 0){if(o in f){const u=l(()=>le(O));n.set(o,u),Ve(i)}}else _e(a,O),Ve(i);return!0},get(f,o,a){if(o===He)return e;var u=n.get(o),v=o in f;if(u===void 0&&(!v||Ue(f,o)?.writable)&&(u=l(()=>{var h=we(v?f[o]:O),p=le(h);return p}),n.set(o,u)),u!==void 0){var c=T(u);return c===O?void 0:c}return Reflect.get(f,o,a)},getOwnPropertyDescriptor(f,o){var a=Reflect.getOwnPropertyDescriptor(f,o);if(a&&"value"in a){var u=n.get(o);u&&(a.value=T(u))}else if(a===void 0){var v=n.get(o),c=v?.v;if(v!==void 0&&c!==O)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return a},has(f,o){if(o===He)return!0;var a=n.get(o),u=a!==void 0&&a.v!==O||Reflect.has(f,o);if(a!==void 0||y!==null&&(!u||Ue(f,o)?.writable)){a===void 0&&(a=l(()=>{var c=u?we(f[o]):O,h=le(c);return h}),n.set(o,a));var v=T(a);if(v===O)return!1}return u},set(f,o,a,u){var v=n.get(o),c=o in f;if(r&&o==="length")for(var h=a;h<v.v;h+=1){var p=n.get(h+"");p!==void 0?_e(p,O):h in f&&(p=l(()=>le(O)),n.set(h+"",p))}if(v===void 0)(!c||Ue(f,o)?.writable)&&(v=l(()=>le(void 0)),_e(v,we(a)),n.set(o,v));else{c=v.v!==O;var m=l(()=>we(a));_e(v,m)}var d=Reflect.getOwnPropertyDescriptor(f,o);if(d?.set&&d.set.call(u,a),!c){if(r&&typeof o=="string"){var _=n.get("length"),I=Number(o);Number.isInteger(I)&&I>=_.v&&_e(_,I+1)}Ve(i)}return!0},ownKeys(f){T(i);var o=Reflect.ownKeys(f).filter(v=>{var c=n.get(v);return c===void 0||c.v!==O});for(var[a,u]of n)u.v!==O&&!(a in f)&&o.push(a);return o},setPrototypeOf(){vr()}})}var Bt,Tn,xn,An;function Ur(){if(Bt===void 0){Bt=window,Tn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;xn=Ue(t,"firstChild").get,An=Ue(t,"nextSibling").get,Gt(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Gt(n)&&(n.__t=void 0)}}function he(e=""){return document.createTextNode(e)}function lt(e){return xn.call(e)}function et(e){return An.call(e)}function W(e,t){return lt(e)}function Hr(e,t=!1){{var n=lt(e);return n instanceof Comment&&n.data===""?et(n):n}}function B(e,t=1,n=!1){let r=e;for(;t--;)r=et(r);return r}function Vr(e){e.textContent=""}function Sn(){return!1}function Yr(e,t,n){return document.createElementNS(cn,e,void 0)}function Nn(e){var t=w,n=y;V(null),ee(null);try{return e()}finally{V(t),ee(n)}}function In(e){y===null&&(w===null&&ur(),ar()),Ne&&fr()}function $r(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function se(e,t,n){var r=y;r!==null&&(r.f&q)!==0&&(e|=q);var i={ctx:A,deps:null,nodes:null,f:e|C|U,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{qe(i)}catch(f){throw D(i),f}else t!==null&&K(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Ge)===0&&(s=s.first,(e&ie)!==0&&(e&De)!==0&&s!==null&&(s.f|=De)),s!==null&&(s.parent=r,r!==null&&$r(s,r),w!==null&&(w.f&P)!==0&&(e&Ie)===0)){var l=w;(l.effects??=[]).push(s)}return i}function Pt(){return w!==null&&!X}function Kr(e){const t=se(We,null,!1);return x(t,N),t.teardown=e,t}function wt(e){In();var t=y.f,n=!w&&(t&J)!==0&&(t&xe)===0;if(n){var r=A;(r.e??=[]).push(e)}else return On(e)}function On(e){return se(at|an,e,!1)}function Wr(e){return In(),se(We|an,e,!0)}function Xr(e){de.ensure();const t=se(Ie|Ge,e,!0);return(n={})=>new Promise(r=>{n.outro?Me(t,()=>{D(t),r(void 0)}):(D(t),r(void 0))})}function Zr(e){return se(At|Ge,e,!0)}function Jr(e,t=0){return se(We|t,e,!0)}function Ee(e,t=[],n=[],r=[]){Rr(r,t,n,i=>{se(We,()=>e(...i.map(T)),!0)})}function Ct(e,t=0){var n=se(ie|t,e,!0);return n}function z(e){return se(J|Ge,e,!0)}function Pn(e){var t=e.teardown;if(t!==null){const n=Ne,r=w;Ut(!0),V(null);try{t.call(null)}finally{Ut(n),V(r)}}}function kt(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Nn(()=>{i.abort(me)});var r=n.next;(n.f&Ie)!==0?n.parent=null:D(n,t),n=r}}function Qr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&J)===0&&D(t),t=n}}function D(e,t=!0){var n=!1;(t||(e.f&fn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ei(e.nodes.start,e.nodes.end),n=!0),kt(e,t&&!n),$e(e,0),x(e,ue);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();Pn(e);var i=e.parent;i!==null&&i.first!==null&&Cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ei(e,t){for(;e!==null;){var n=e===t?null:et(e);e.remove(),e=n}}function Cn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Me(e,t,n=!0){var r=[];kn(e,r,!0);var i=()=>{n&&D(e),t&&t()},s=r.length;if(s>0){var l=()=>--s||i();for(var f of r)f.out(l)}else i()}function kn(e,t,n){if((e.f&q)===0){e.f^=q;var r=e.nodes&&e.nodes.t;if(r!==null)for(const f of r)(f.is_global||n)&&t.push(f);for(var i=e.first;i!==null;){var s=i.next,l=(i.f&De)!==0||(i.f&J)!==0&&(e.f&ie)!==0;kn(i,t,l?n:!1),i=s}}}function Rt(e){Rn(e,!0)}function Rn(e,t){if((e.f&q)!==0){e.f^=q,(e.f&N)===0&&(x(e,C),K(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&De)!==0||(n.f&J)!==0;Rn(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||t)&&l.in()}}function Dn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:et(n);t.append(n),n=i}}let ot=!1,Ne=!1;function Ut(e){Ne=e}let w=null,X=!1;function V(e){w=e}let y=null;function ee(e){y=e}let H=null;function Ln(e){w!==null&&(H===null?H=[e]:H.push(e))}let R=null,F=0,G=null;function ti(e){G=e}let Fn=1,ye=0,Te=ye;function Ht(e){Te=e}function qn(){return++Fn}function tt(e){var t=e.f;if((t&C)!==0)return!0;if(t&P&&(e.f&=~Ae),(t&Z)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(tt(s)&&yn(s),s.wv>e.wv)return!0}(t&U)!==0&&$===null&&x(e,N)}return!1}function Gn(e,t,n=!0){var r=e.reactions;if(r!==null&&!(H!==null&&Re.call(H,e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&P)!==0?Gn(s,t,!1):t===s&&(n?x(s,C):(s.f&N)!==0&&x(s,Z),K(s))}}function jn(e){var t=R,n=F,r=G,i=w,s=H,l=A,f=X,o=Te,a=e.f;R=null,F=0,G=null,w=(a&(J|Ie))===0?e:null,H=null,Le(e.ctx),X=!1,Te=++ye,e.ac!==null&&(Nn(()=>{e.ac.abort(me)}),e.ac=null);try{e.f|=pt;var u=e.fn,v=u();e.f|=xe;var c=e.deps,h=M?.is_fork;if(R!==null){var p;if(h||$e(e,F),c!==null&&F>0)for(c.length=F+R.length,p=0;p<R.length;p++)c[F+p]=R[p];else e.deps=c=R;if(Pt()&&(e.f&U)!==0)for(p=F;p<c.length;p++)(c[p].reactions??=[]).push(e)}else!h&&c!==null&&F<c.length&&($e(e,F),c.length=F);if(Qe()&&G!==null&&!X&&c!==null&&(e.f&(P|Z|C))===0)for(p=0;p<G.length;p++)Gn(G[p],e);if(i!==null&&i!==e){if(ye++,i.deps!==null)for(let m=0;m<n;m+=1)i.deps[m].rv=ye;if(t!==null)for(const m of t)m.rv=ye;G!==null&&(r===null?r=G:r.push(...G))}return(e.f&ce)!==0&&(e.f^=ce),v}catch(m){return hn(m)}finally{e.f^=pt,R=t,F=n,G=r,w=i,H=s,Le(l),X=f,Te=o}}function ni(e,t){let n=t.reactions;if(n!==null){var r=Jn.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&P)!==0&&(R===null||!Re.call(R,t))){var s=t;(s.f&U)!==0&&(s.f^=U,s.f&=~Ae),St(s),jr(s),$e(s,0)}}function $e(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ni(e,n[r])}function qe(e){var t=e.f;if((t&ue)===0){x(e,N);var n=y,r=ot;y=e,ot=!0;try{(t&(ie|ln))!==0?Qr(e):kt(e),Pn(e);var i=jn(e);e.teardown=typeof i=="function"?i:null,e.wv=Fn;var s;dt&&Tr&&(e.f&C)!==0&&e.deps}finally{ot=r,y=n}}}function T(e){var t=e.f,n=(t&P)!==0;if(w!==null&&!X){var r=y!==null&&(y.f&ue)!==0;if(!r&&(H===null||!Re.call(H,e))){var i=w.deps;if((w.f&pt)!==0)e.rv<ye&&(e.rv=ye,R===null&&i!==null&&i[F]===e?F++:R===null?R=[e]:R.push(e));else{(w.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[w]:Re.call(s,w)||s.push(w)}}}if(Ne&&ve.has(e))return ve.get(e);if(n){var l=e;if(Ne){var f=l.v;return((l.f&N)===0&&l.reactions!==null||Bn(l))&&(f=Ot(l)),ve.set(l,f),f}var o=(l.f&U)===0&&!X&&w!==null&&(ot||(w.f&U)!==0),a=(l.f&xe)===0;tt(l)&&(o&&(l.f|=U),yn(l)),o&&!a&&(bn(l),zn(l))}if($?.has(e))return $.get(e);if((e.f&ce)!==0)throw e.v;return e.v}function zn(e){if(e.f|=U,e.deps!==null)for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&P)!==0&&(t.f&U)===0&&(bn(t),zn(t))}function Bn(e){if(e.v===O)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ve.has(t)||(t.f&P)!==0&&Bn(t))return!0;return!1}function Dt(e){var t=X;try{return X=!0,e()}finally{X=t}}function ri(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(He in e)yt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&He in n&&yt(n)}}}function yt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{yt(e[r],t)}catch{}const n=xt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=sn(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const ii=["touchstart","touchmove"];function si(e){return ii.includes(e)}const ze=Symbol("events"),Un=new Set,bt=new Set;function Ye(e,t,n){(t[ze]??={})[e]=n}function Hn(e){for(var t=0;t<e.length;t++)Un.add(e[t]);for(var n of bt)n(e)}let Vt=null;function Yt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Vt=e;var l=0,f=Vt===e&&e[ze];if(f){var o=i.indexOf(f);if(o!==-1&&(t===document||t===window)){e[ze]=t;return}var a=i.indexOf(t);if(a===-1)return;o<=a&&(l=o)}if(s=i[l]||e.target,s!==t){Qn(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=w,v=y;V(null),ee(null);try{for(var c,h=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var m=s[ze]?.[r];m!=null&&(!s.disabled||e.target===s)&&m.call(s,e)}catch(d){c?h.push(d):c=d}if(e.cancelBubble||p===t||p===null)break;s=p}if(c){for(let d of h)queueMicrotask(()=>{throw d});throw c}}finally{e[ze]=t,delete e.currentTarget,V(u),ee(v)}}}const oi=globalThis?.window?.trustedTypes&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function li(e){return oi?.createHTML(e)??e}function fi(e){var t=Yr("template");return t.innerHTML=li(e.replaceAll("<!>","<!---->")),t.content}function Et(e,t){var n=y;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function pe(e,t){var n=(t&yr)!==0,r=(t&br)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=fi(s?e:"<!>"+e),n||(i=lt(i)));var l=r||Tn?document.importNode(i,!0):i.cloneNode(!0);if(n){var f=lt(l),o=l.lastChild;Et(f,o)}else Et(l,l);return l}}function $t(e=""){{var t=he(e+"");return Et(t,t),t}}function Q(e,t){e!==null&&e.before(t)}function Ce(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ai(e,t){return ui(e,t)}const st=new Map;function ui(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0,transformError:f}){Ur();var o=void 0,a=Xr(()=>{var u=n??t.appendChild(he());Cr(u,{pending:()=>{}},h=>{Ze({});var p=A;s&&(p.c=s),i&&(r.$$events=i),o=e(h,r)||{},Je()},f);var v=new Set,c=h=>{for(var p=0;p<h.length;p++){var m=h[p];if(!v.has(m)){v.add(m);var d=si(m);for(const S of[t,document]){var _=st.get(S);_===void 0&&(_=new Map,st.set(S,_));var I=_.get(m);I===void 0?(S.addEventListener(m,Yt,{passive:d}),_.set(m,1)):_.set(m,I+1)}}}};return c(ft(Un)),bt.add(c),()=>{for(var h of v)for(const d of[t,document]){var p=st.get(d),m=p.get(h);--m==0?(d.removeEventListener(h,Yt),p.delete(h),p.size===0&&st.delete(d)):p.set(h,m)}bt.delete(c),u!==n&&u.parentNode?.removeChild(u)}});return ci.set(o,a),o}let ci=new WeakMap;class di{anchor;#t=new Map;#l=new Map;#e=new Map;#s=new Set;#n=!0;constructor(t,n=!0){this.anchor=t,this.#n=n}#o=()=>{var t=M;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#l.get(n);if(r)Rt(r),this.#s.delete(n);else{var i=this.#e.get(n);i&&(this.#l.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of this.#t){if(this.#t.delete(s),s===t)break;const f=this.#e.get(l);f&&(D(f.effect),this.#e.delete(l))}for(const[s,l]of this.#l){if(s===n||this.#s.has(s))continue;const f=()=>{if(Array.from(this.#t.values()).includes(s)){var a=document.createDocumentFragment();Dn(l,a),a.append(he()),this.#e.set(s,{effect:l,fragment:a})}else D(l);this.#s.delete(s),this.#l.delete(s)};this.#n||!r?(this.#s.add(s),Me(l,f,!1)):f()}}};#r=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,i]of this.#e)n.includes(r)||(D(i.effect),this.#e.delete(r))};ensure(t,n){var r=M,i=Sn();if(n&&!this.#l.has(t)&&!this.#e.has(t))if(i){var s=document.createDocumentFragment(),l=he();s.append(l),this.#e.set(t,{effect:z(()=>n(l)),fragment:s})}else this.#l.set(t,z(()=>n(this.anchor)));if(this.#t.set(r,t),i){for(const[f,o]of this.#l)f===t?r.unskip_effect(o):r.skip_effect(o);for(const[f,o]of this.#e)f===t?r.unskip_effect(o.effect):r.skip_effect(o.effect);r.oncommit(this.#o),r.ondiscard(this.#r)}else this.#o()}}function Vn(e,t,n=!1){var r=new di(e),i=n?De:0;function s(l,f){r.ensure(l,f)}Ct(()=>{var l=!1;t((f,o=0)=>{l=!0,s(o,f)}),l||s(!1,null)},i)}function vi(e,t,n){for(var r=[],i=t.length,s,l=t.length,f=0;f<i;f++){let v=t[f];Me(v,()=>{if(s){if(s.pending.delete(v),s.done.add(v),s.pending.size===0){var c=e.outrogroups;Mt(ft(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var o=r.length===0&&n!==null;if(o){var a=n,u=a.parentNode;Vr(u),u.append(a),e.items.clear()}Mt(t,!o)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function Mt(e,t=!0){for(var n=0;n<e.length;n++)D(e[n],t)}var Kt;function Yn(e,t,n,r,i,s=null){var l=e,f=new Map,o=(t&un)!==0;if(o){var a=e;l=a.appendChild(he())}var u=null,v=It(()=>{var _=n();return rn(_)?_:_==null?[]:ft(_)}),c,h=!0;function p(){d.fallback=u,hi(d,c,l,t,r),u!==null&&(c.length===0?(u.f&re)===0?Rt(u):(u.f^=re,Be(u,null,l)):Me(u,()=>{u=null}))}var m=Ct(()=>{c=T(v);for(var _=c.length,I=new Set,S=M,E=Sn(),k=0;k<_;k+=1){var te=c[k],Y=r(te,k),L=h?null:f.get(Y);L?(L.v&&Fe(L.v,te),L.i&&Fe(L.i,k),E&&S.unskip_effect(L.e)):(L=pi(f,h?l:Kt??=he(),te,Y,k,i,t,n),h||(L.e.f|=re),f.set(Y,L)),I.add(Y)}if(_===0&&s&&!u&&(h?u=z(()=>s(l)):(u=z(()=>s(Kt??=he())),u.f|=re)),_>I.size&&lr(),!h)if(E){for(const[ct,oe]of f)I.has(ct)||S.skip_effect(oe.e);S.oncommit(p),S.ondiscard(()=>{})}else p();T(v)}),d={effect:m,items:f,outrogroups:null,fallback:u};h=!1}function je(e){for(;e!==null&&(e.f&J)===0;)e=e.next;return e}function hi(e,t,n,r,i){var s=(r&mr)!==0,l=t.length,f=e.items,o=je(e.effect.first),a,u=null,v,c=[],h=[],p,m,d,_;if(s)for(_=0;_<l;_+=1)p=t[_],m=i(p,_),d=f.get(m).e,(d.f&re)===0&&(d.nodes?.a?.measure(),(v??=new Set).add(d));for(_=0;_<l;_+=1){if(p=t[_],m=i(p,_),d=f.get(m).e,e.outrogroups!==null)for(const oe of e.outrogroups)oe.pending.delete(d),oe.done.delete(d);if((d.f&re)!==0)if(d.f^=re,d===o)Be(d,null,n);else{var I=u?u.next:o;d===e.effect.last&&(e.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),fe(e,u,d),fe(e,d,I),Be(d,I,n),u=d,c=[],h=[],o=je(u.next);continue}if((d.f&q)!==0&&(Rt(d),s&&(d.nodes?.a?.unfix(),(v??=new Set).delete(d))),d!==o){if(a!==void 0&&a.has(d)){if(c.length<h.length){var S=h[0],E;u=S.prev;var k=c[0],te=c[c.length-1];for(E=0;E<c.length;E+=1)Be(c[E],S,n);for(E=0;E<h.length;E+=1)a.delete(h[E]);fe(e,k.prev,te.next),fe(e,u,k),fe(e,te,S),o=S,u=te,_-=1,c=[],h=[]}else a.delete(d),Be(d,o,n),fe(e,d.prev,d.next),fe(e,d,u===null?e.effect.first:u.next),fe(e,u,d),u=d;continue}for(c=[],h=[];o!==null&&o!==d;)(a??=new Set).add(o),h.push(o),o=je(o.next);if(o===null)continue}(d.f&re)===0&&c.push(d),u=d,o=je(d.next)}if(e.outrogroups!==null){for(const oe of e.outrogroups)oe.pending.size===0&&(Mt(ft(oe.done)),e.outrogroups?.delete(oe));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||a!==void 0){var Y=[];if(a!==void 0)for(d of a)(d.f&q)===0&&Y.push(d);for(;o!==null;)(o.f&q)===0&&o!==e.fallback&&Y.push(o),o=je(o.next);var L=Y.length;if(L>0){var ct=(r&un)!==0&&l===0?n:null;if(s){for(_=0;_<L;_+=1)Y[_].nodes?.a?.measure();for(_=0;_<L;_+=1)Y[_].nodes?.a?.fix()}vi(e,Y,ct)}}s&&be(()=>{if(v!==void 0)for(d of v)d.nodes?.a?.apply()})}function pi(e,t,n,r,i,s,l,f){var o=(l&_r)!==0?(l&wr)===0?zr(n,!1,!1):Se(n):null,a=(l&gr)!==0?Se(i):null;return{v:o,i:a,e:z(()=>(s(t,o??n,a??i,f),()=>{e.delete(r)}))}}function Be(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&re)===0?t.nodes.start:n;r!==null;){var l=et(r);if(s.before(r),r===i)return;r=l}}function fe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Wt=[...` 	
\r\f \v\uFEFF`];function _i(e,t,n){var r=""+e;if(n){for(var i of Object.keys(n))if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,l=0;(l=r.indexOf(i,l))>=0;){var f=l+s;(l===0||Wt.includes(r[l-1]))&&(f===r.length||Wt.includes(r[f]))?r=(l===0?"":r.substring(0,l))+r.substring(f+1):l=f}}return r===""?null:r}function gi(e,t){return e==null?null:String(e)}function mi(e,t,n,r,i,s){var l=e.__className;if(l!==n||l===void 0){var f=_i(n,r,s);f==null?e.removeAttribute("class"):e.className=f,e.__className=n}else if(s&&i!==s)for(var o in s){var a=!!s[o];(i==null||a!==!!i[o])&&e.classList.toggle(o,a)}return s}function wi(e,t,n,r){var i=e.__style;if(i!==t){var s=gi(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const yi=Symbol("is custom element"),bi=Symbol("is html");function Xt(e,t,n,r){var i=Ei(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[ir]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Mi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ei(e){return e.__attributes??={[yi]:e.nodeName.includes("-"),[bi]:e.namespaceURI===cn}}var Zt=new Map;function Mi(e){var t=e.getAttribute("is")||e.nodeName,n=Zt.get(t);if(n)return n;Zt.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=sn(i);for(var l in r)r[l].set&&n.push(l);i=xt(i)}return n}function Lt(e=!1){const t=A,n=t.l.u;if(!n)return;let r=()=>ri(t.s);if(e){let i=0,s={};const l=ut(()=>{let f=!1;const o=t.s;for(const a in o)o[a]!==s[a]&&(s[a]=o[a],f=!0);return f&&i++,i});r=()=>T(l)}n.b.length&&Wr(()=>{Jt(t,r),vt(n.b)}),wt(()=>{const i=Dt(()=>n.m.map(rr));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&wt(()=>{Jt(t,r),vt(n.a)})}function Jt(e,t){if(e.l.s)for(const n of e.l.s)T(n);t()}function Ti(e){A===null&&sr(),Xe&&A.l!==null?xi(A).m.push(e):wt(()=>{const t=Dt(e);if(typeof t=="function")return t})}function xi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ai="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ai);xr();const Tt={startingNote:11,rowIncrement:10,gridSize:8},Si=[240,0,32,41,2,12,14,1,247],Qt=[{hex:"#f090ae",velocity:10},{hex:"#f59383",velocity:20},{hex:"#ea9e5e",velocity:30},{hex:"#d0ae4e",velocity:40},{hex:"#a8bd61",velocity:50},{hex:"#76c788",velocity:60},{hex:"#41cbb5",velocity:70},{hex:"#33c6dc",velocity:80},{hex:"#62bbf7",velocity:90},{hex:"#94adff",velocity:100},{hex:"#bea0f3",velocity:110},{hex:"#dd95d6",velocity:120}];function Ni(e,t=!1){const{startingNote:n,rowIncrement:r,gridSize:i}=e,s=[],l=t?Array.from({length:i},(f,o)=>i-1-o):Array.from({length:i},(f,o)=>o);for(const f of l)for(let o=0;o<i;o++)s.push(n+f*r+o);return s}async function Ii(e={}){if(!navigator.requestMIDIAccess)throw new Error("Web MIDI API is not supported in this browser.");return navigator.requestMIDIAccess(e)}function Ft(e,t){try{e.send(new Uint8Array(t))}catch(n){console.error("Failed to send MIDI message:",n)}}function Oi(e,t,n,r=0){Ft(e,[144|r&15,t,n])}function Pi(e,t){Ft(e,[128,t,0])}function Ci(e){return(e[0]&240)===144&&e[2]>0}const b=we({status:"idle",statusMessage:"Status: Not Connected",outputs:[],selectedOutput:null}),Ke=Ni(Tt,!0);let ge=null,$n=null;function ki(e){$n=e}async function Ri(){b.status="connecting",b.statusMessage="Requesting MIDI access…";try{ge=await Ii({sysex:!0}),en(ge),Li(ge),ge.onstatechange=e=>{e.port&&(e.port.type==="input"&&e.port.state==="connected"&&(e.port.onmidimessage=Wn),e.port.type==="output"&&en(ge))},b.status="connected"}catch(e){b.status="error",b.statusMessage=e instanceof Error?e.message:"Unknown error"}}function Di(e){if(!ge)return;const t=[...ge.outputs.values()];e>=0&&e<t.length?(b.selectedOutput=t[e],b.statusMessage=`Connected to: ${b.selectedOutput.name}`,Kn(),setTimeout(()=>{rt()},500)):(b.selectedOutput=null,b.statusMessage="Selected MIDI output not found.")}function qt(e,t,n=0){b.selectedOutput&&Oi(b.selectedOutput,e,t,n)}function nt(e){b.selectedOutput&&Pi(b.selectedOutput,e)}function rt(){for(const e of Ke)nt(e)}function Kn(){b.selectedOutput&&Ft(b.selectedOutput,Si)}function en(e){const t=[...e.outputs.values()];b.outputs=t,t.length>0&&!b.selectedOutput?(b.selectedOutput=t[0],b.statusMessage=`Connected to: ${b.selectedOutput.name}`,Kn(),setTimeout(()=>{rt()},500)):t.length===0&&(b.statusMessage="No MIDI output devices found.")}function Li(e){for(const t of e.inputs.values())t.onmidimessage=Wn}function Wn(e){if(!e.data)return;const{data:t}=e,n=t[1];Ci(t)&&n!==void 0&&$n?.(n)}var Fi=pe("<option> </option>"),qi=pe('<select aria-label="MIDI output device"></select>'),Gi=pe('<div class="midi-panel svelte-4v8x0d"><button> </button> <!></div> <p class="status-text svelte-4v8x0d"> </p>',1);function ji(e,t){Ze(t,!1);async function n(){await Ri()}function r(c){const h=c.target;Di(h.selectedIndex)}Lt();var i=Gi(),s=Hr(i),l=W(s),f=W(l),o=B(l,2);{var a=c=>{var h=qi();Yn(h,7,()=>b.outputs,p=>p.id,(p,m,d)=>{var _=Fi(),I=W(_),S={};Ee(()=>{Ce(I,`${T(m).name??""} (${T(m).manufacturer??""})`),S!==(S=T(d))&&(_.value=(_.__value=T(d))??"")}),Q(p,_)}),Ye("change",h,r),Q(c,h)};Vn(o,c=>{b.outputs.length>0&&c(a)})}var u=B(s,2),v=W(u);Ee(()=>{l.disabled=b.status==="connected"||b.status==="connecting",Ce(f,b.status==="connecting"?"Connecting…":b.status==="connected"?"MIDI Connected":"Connect MIDI"),Ce(v,b.statusMessage)}),Ye("click",l,n),Q(e,i),Je()}Hn(["click","change"]);const g=we({score:0,timeLeft:0,gamePhase:"idle",activeNote:null,activePadColor:null,timerDuration:30,countdownText:""});function zi(e){g.timerDuration=e}let ke=null;function tn(e){return e<10?"0"+e:String(e)}function Bi(e){return`${tn(Math.floor(e/60))}:${tn(e%60)}`}function Xn(){return Qt[Math.floor(Math.random()*Qt.length)]}function Zn(){g.activeNote!==null&&nt(g.activeNote);const e=Ke[Math.floor(Math.random()*Ke.length)],t=Xn();g.activeNote=e,g.activePadColor=t,qt(e,t.velocity,0)}function Ui(e){g.gamePhase==="playing"&&e===g.activeNote&&(g.score++,nt(e),g.activeNote=null,g.activePadColor=null,Zn())}async function Hi(){g.gamePhase==="idle"&&(g.gamePhase="countdown",await Wi(),g.score=0,g.timeLeft=g.timerDuration,rt(),Zn(),g.gamePhase="playing",ke=setInterval(()=>{g.timeLeft--,g.timeLeft<=0&&(clearInterval(ke),ke=null,Yi())},1e3))}function Vi(){ke&&(clearInterval(ke),ke=null),g.score=0,g.timeLeft=0,g.activeNote=null,g.activePadColor=null,g.countdownText="",rt(),g.gamePhase="idle"}function Yi(){g.activeNote!==null&&(nt(g.activeNote),g.activeNote=null,g.activePadColor=null),g.gamePhase="ended",$i()}function $i(){let e=0;const t=setInterval(()=>{for(const n of Ke)qt(n,Xn().velocity,1);++e>=20&&(clearInterval(t),rt(),g.gamePhase="idle")},100)}const Ki={5:[11,12,13,14,25,35,44,43,42,41,51,61,71,72,73,74,75,76],4:[14,24,34,44,35,36,33,32,31,41,51,61,71],3:[21,12,13,14,25,35,44,43,55,65,74,73,72,61],2:[11,12,13,14,15,21,32,43,54,65,74,73,72,61],1:[11,12,13,14,15,23,33,43,53,63,73,62,61]};function nn(e){const t=String(e),n=parseInt(t.charAt(0),10)-1,r=parseInt(t.charAt(1),10)-1;return Tt.startingNote+n*Tt.rowIncrement+r}function Wi(){return new Promise((e,t)=>{const n=[5,4,3,2,1];let r=0;function i(){if(r>=n.length){e();return}const s=n[r],l=Ki[s];if(!l){t(new Error(`No pattern for digit ${s}`));return}for(const f of l)qt(nn(f),100,0);g.countdownText=`Get Ready: ${s}`,setTimeout(()=>{for(const f of l)nt(nn(f));r++,i()},1e3)}i()})}var Xi=pe('<div class="scoreboard svelte-1el3qni"><h1 class="svelte-1el3qni">Whack-a-Mole</h1> <div class="score-display svelte-1el3qni"> </div></div>');function Zi(e,t){Ze(t,!1),Lt();var n=Xi(),r=B(W(n),2),i=W(r);Ee(()=>Ce(i,`Score: ${g.score??""}`)),Q(e,n),Je()}var Ji=pe('<div class="controls svelte-1lmydbg"><select aria-label="Game duration"><option>15 Seconds</option><option selected="">30 Seconds</option><option>1 Minute</option><option>2 Minutes</option></select> <div class="buttons svelte-1lmydbg"><button>Start Game</button> <button>Reset Round</button></div> <div class="timer-display svelte-1lmydbg"><!></div></div>');function Qi(e,t){Ze(t,!0);const n=Pe(()=>b.status==="connected"),r=Pe(()=>g.gamePhase==="playing"),i=Pe(()=>g.gamePhase==="countdown"),s=Pe(()=>T(n)&&g.gamePhase==="idle");function l(E){zi(parseInt(E.target.value,10))}var f=Ji(),o=W(f),a=W(o);a.value=a.__value="15";var u=B(a);u.value=u.__value="30";var v=B(u);v.value=v.__value="60";var c=B(v);c.value=c.__value="120";var h=B(o,2),p=W(h),m=B(p,2),d=B(h,2),_=W(d);{var I=E=>{var k=$t();Ee(()=>Ce(k,g.countdownText)),Q(E,k)},S=E=>{var k=$t();Ee(te=>Ce(k,`Time: ${te??""}`),[()=>Bi(g.timeLeft)]),Q(E,k)};Vn(_,E=>{T(i)?E(I):E(S,!1)})}Ee(()=>{o.disabled=T(r)||T(i),p.disabled=!T(s),m.disabled=g.gamePhase==="idle"}),Ye("change",o,l),Ye("click",p,function(...E){Hi?.apply(this,E)}),Ye("click",m,function(...E){Vi?.apply(this,E)}),Q(e,f),Je()}Hn(["change","click"]);var es=pe('<div role="gridcell"></div>');function ts(e,t){var n=es();let r;Ee(()=>{r=mi(n,1,"pad svelte-q3va51",null,r,{active:t.isActive}),wi(n,t.isActive&&t.color?`background-color: ${t.color};`:""),Xt(n,"data-note",t.note),Xt(n,"aria-label",`Pad ${t.note??""}`)}),Q(e,n)}var ns=pe('<div class="grid svelte-158hu6t" role="grid" aria-label="Launchpad 8×8 grid"></div>');function rs(e,t){var n=ns();Yn(n,20,()=>t.noteMapping,r=>r,(r,i)=>{{let s=Pe(()=>i===t.activeNote),l=Pe(()=>i===t.activeNote?t.activePadColor:null);ts(r,{get note(){return i},get isActive(){return T(s)},get color(){return T(l)}})}}),Q(e,n)}var is=pe('<div class="container svelte-1n46o8q"><!> <!> <!> <!></div>');function ss(e,t){Ze(t,!1),Ti(()=>{ki(Ui)}),Lt();var n=is(),r=W(n);Zi(r,{});var i=B(r,2);ji(i,{});var s=B(i,2);{let f=It(()=>g.activePadColor?.hex??null);rs(s,{get noteMapping(){return Ke},get activeNote(){return g.activeNote},get activePadColor(){return T(f)}})}var l=B(s,2);Qi(l,{}),Q(e,n),Je()}ai(ss,{target:document.getElementById("app")});
